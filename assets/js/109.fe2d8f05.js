(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{456:function(t,e,r){"use strict";r.r(e);var a=r(0),s=Object(a.a)({},function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"linux网络防火墙"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linux网络防火墙"}},[t._v("#")]),t._v(" Linux网络防火墙")]),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#flag"}},[t._v("Flag")])]),e("li",[e("a",{attrs:{href:"#查看网络"}},[t._v("查看网络")])]),e("li",[e("a",{attrs:{href:"#iptables"}},[t._v("iptables")])]),e("li",[e("a",{attrs:{href:"#ufw"}},[t._v("UFW")])]),e("li",[e("a",{attrs:{href:"#firewalld"}},[t._v("firewalld")])]),e("li",[e("a",{attrs:{href:"#路由跟踪"}},[t._v("路由跟踪")]),e("ul",[e("li",[e("a",{attrs:{href:"#检查端口连接"}},[t._v("检查端口连接")])])])]),e("li",[e("a",{attrs:{href:"#网卡"}},[t._v("网卡")]),e("ul",[e("li",[e("a",{attrs:{href:"#mtu"}},[t._v("MTU")])])])])])]),e("p"),t._v(" "),e("h2",{attrs:{id:"flag"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#flag"}},[t._v("#")]),t._v(" Flag")]),t._v(" "),e("ul",[e("li",[t._v("网络测试 "),e("a",{attrs:{href:"https://github.com/topics/speedtest",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/topics/speedtest"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/Microsoft/ntttcp-for-linux",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/Microsoft/ntttcp-for-linux"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/mellanox/sockperf",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/mellanox/sockperf"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://tools.keycdn.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://tools.keycdn.com"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://iperf.fr",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://iperf.fr"),e("OutboundLink")],1),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://sourceforge.net/projects/iperf",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://sourceforge.net/projects/iperf"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://sourceforge.net/projects/iperf2",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://sourceforge.net/projects/iperf2"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/search?q=iPerf3",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/search?q=iPerf3"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/esnet/iperf",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/esnet/iperf"),e("OutboundLink")],1)])])]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/n-st/nench",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/n-st/nench"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("测速 "),e("a",{attrs:{href:"https://github.com/adolfintel/speedtest",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/adolfintel/speedtest"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.speedtest.net",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.speedtest.net"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.nperf.com/zh_CN",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.nperf.com/zh_CN"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://speed.cloudflare.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://speed.cloudflare.com"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://fast.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://fast.com"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://test.ustc.edu.cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://test.ustc.edu.cn"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://fiber.google.com/speedtest",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://fiber.google.com/speedtest"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://speedtestgo.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://speedtestgo.com"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("DNS速度测试 "),e("a",{attrs:{href:"https://github.com/BrainicHQ/DoHSpeedTest",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/BrainicHQ/DoHSpeedTest"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/xxnuo/dns-benchmark",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/xxnuo/dns-benchmark"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.zhihu.com/question/489849459",target:"_blank",rel:"noopener noreferrer"}},[t._v("局域网怎么实现内外网隔离？"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("防火墙 "),e("a",{attrs:{href:"https://github.com/pfsense/pfsense",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/pfsense/pfsense"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/opnsense",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/opnsense"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/owasp-modsecurity/ModSecurity",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/owasp-modsecurity/ModSecurity"),e("OutboundLink")],1),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/coreruleset/coreruleset",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/coreruleset/coreruleset"),e("OutboundLink")],1)])])]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/ipfire/ipfire-2.x",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/ipfire/ipfire-2.x"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("WAF "),e("a",{attrs:{href:"https://github.com/SpiderLabs/ModSecurity",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/SpiderLabs/ModSecurity"),e("OutboundLink")],1),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/titansec/OpenWAF",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/titansec/OpenWAF"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"http://www.modsecurity.cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.modsecurity.cn"),e("OutboundLink")],1)])])]),t._v(" "),e("li",[t._v("网络隔离 "),e("a",{attrs:{href:"https://github.com/projectcalico/calico",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/projectcalico/calico"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/openziti/ziti",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/openziti/ziti"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.github.com/flannel-io/flannel",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.github.com/flannel-io/flannel"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/openvswitch/ovs",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/openvswitch/ovs"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("验证身份 "),e("a",{attrs:{href:"https://github.com/spiffe/spire",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/spiffe/spire"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("广告拦截 "),e("a",{attrs:{href:"https://github.com/pi-hole/pi-hole",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/pi-hole/pi-hole"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"查看网络"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看网络"}},[t._v("#")]),t._v(" 查看网络")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查询系统中缓存的ARP表，ARP表用来维护IP地址与MAC地址的对应关系")]),t._v("\narp "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-an")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ip")]),t._v(" a\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ifconfig")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 提取主机上的IP信息")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ip")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"global"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{print $2}'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" -F/"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{print $1}'")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出当前的ESTABLISHED和TIME_WAIT数")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-n")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-ant")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\n    {++s[$NF]} END {for(k in s) print k,s[k]}\n'")]),t._v("\nss "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-ant")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\n    {++s[$1]} END {for(k in s) print k,s[k]}\n'")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 详情")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-antp")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 打印所有进程及其线程")]),t._v("\npstree "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 打印某个进程的线程数")]),t._v("\npstree "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("pid"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("wc")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-l")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 打印当前地址IP链接情况")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-antp")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ESTABLISHED"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{print $5}'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{print $4}'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("uniq")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),t._v("\n\n")])])]),e("h2",{attrs:{id:"iptables"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#iptables"}},[t._v("#")]),t._v(" iptables")]),t._v(" "),e("ul",[e("li",[t._v("iptables "),e("a",{attrs:{href:"https://www.netfilter.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.netfilter.org"),e("OutboundLink")],1)])]),t._v(" "),e("blockquote",[e("p",[t._v("iptables是Linux从2.4.x版本内核开始，系统自带的防火墙。随着Linux内核的不断更新，Linux的防火墙在iptables基础上泛生出\nUFW和Firewalld，并且在一些发行版中已经替代iptables。")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#永久关闭防火墙")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("chkconfig")]),t._v(" iptables off\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 永久关闭后启用")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("chkconfig")]),t._v(" iptables on\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看防火墙规则")]),t._v("\niptables "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-L")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查出所有的规则信息")]),t._v("\niptables "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-nvl")]),t._v("\niptables "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-L")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-n")]),t._v(" --line-number\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 清空已存在的规则")]),t._v("\niptables "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v("\niptables "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--flush")]),t._v("\n\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sudo iptables -I INPUT -p tcp --dport [端口号] -j ACCEPT")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --dport 目标端口，数据从外部进入服务器")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --sport 数据源端口，数据从服务器出去")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" iptables "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-I")]),t._v(" INPUT "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" tcp "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--dport")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3306")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-j")]),t._v(" ACCEPT\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 保存iptables设置规则")]),t._v("\niptables-save\n\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装iptables-persistent工具，使端口配置持久化")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" iptables-persistent\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 端口配置永久生效 ")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" netfilter-persistent save\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" netfilter-persistent reload\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 生成的规则将被存储在以下文件中:")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# /etc/iptables/rules.v4")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# /etc/iptables/rules.v6")]),t._v("\n\n")])])]),e("h2",{attrs:{id:"ufw"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ufw"}},[t._v("#")]),t._v(" UFW")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" ufw\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 检查 UFW 的状态")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" ufw status verbose\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 打开防火墙")]),t._v("\nufw "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("enable")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 关闭防火墙")]),t._v("\nufw disable\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#重启防火墙")]),t._v("\nufw reload\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看已经定义的ufw规则")]),t._v("\nufw status\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 外来访问默认允许")]),t._v("\nufw default allow\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 外来访问默认拒绝")]),t._v("\nufw default deny\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 允许访问20端口，20后可跟/tcp或/udp，表示tcp或udp封包。")]),t._v("\nufw allow "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 拒绝访问20端口，20后可跟/tcp或/udp，表示tcp或udp封包。")]),t._v("\nufw deny "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 允许自192.168.0.0/24的tcp封包访问本机的22端口。")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" ufw allow proto tcp from "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".0.0/24 to any port "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# 删除以前定义的"允许访问20端口"的规则')]),t._v("\nufw delete allow "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# 删除以前定义的"拒绝访问20端口"的规则')]),t._v("\nufw delete deny "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("\n")])])]),e("h2",{attrs:{id:"firewalld"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#firewalld"}},[t._v("#")]),t._v(" firewalld")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看firewalld状态，发现当前是dead状态，即防火墙未开启。")]),t._v("\nsystemctl status firewalld\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开启防火墙，没有任何提示即开启成功。")]),t._v("\nsystemctl start firewalld\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看已开放的端口(默认不开放任何端口)")]),t._v("\nfirewall-cmd --list-ports\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 重启防火墙")]),t._v("\nfirewall-cmd "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--reload")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 停止防火墙")]),t._v("\nsystemctl stop firewalld.service\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 禁止防火墙开机启动")]),t._v("\nsystemctl disable firewalld.service\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除端口")]),t._v("\nfirewall-cmd "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--zone")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" public --remove-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v("/tcp "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--permanent")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开启80端口")]),t._v("\nfirewall-cmd "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--zone")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("public --add-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v("/tcp "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--permanent")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开启8080-8089的IP端")]),t._v("\nfirewall-cmd "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--zone")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("public --add-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),t._v("-8089/tcp "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--permanent")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开启3306端口")]),t._v("\nfirewall-cmd "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--zone")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("public --add-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3306")]),t._v("/tcp "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--permanent")]),t._v("\n")])])]),e("ul",[e("li",[e("code",[t._v("--zone")]),t._v(" 作用域")]),t._v(" "),e("li",[e("code",[t._v("--add-port=80/tcp")]),t._v(" 添加端口，格式为：端口/通讯协议")]),t._v(" "),e("li",[e("code",[t._v("--permanent")]),t._v(" 永久生效，没有此参数重启后失效")])]),t._v(" "),e("p",[e("strong",[t._v("配置"),e("code",[t._v("firewalld-cmd")])])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看版本")]),t._v("\nfirewall-cmd "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--version")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看帮助")]),t._v("\nfirewall-cmd "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--help")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示状态")]),t._v("\nfirewall-cmd "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--state")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看所有打开的端口")]),t._v("\nfirewall-cmd "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--zone")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("public --list-ports\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更新防火墙规则")]),t._v("\nfirewall-cmd "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--reload")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看区域信息")]),t._v("\nfirewall-cmd --get-active-zones\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看指定接口所属区域")]),t._v("\nfirewall-cmd --get-zone-of-interface"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("eth0\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 拒绝所有包")]),t._v("\nfirewall-cmd --panic-on\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 取消拒绝状态")]),t._v("\nfirewall-cmd --panic-off\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看是否拒绝")]),t._v("\nfirewall-cmd --query-panic\n")])])]),e("h2",{attrs:{id:"路由跟踪"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#路由跟踪"}},[t._v("#")]),t._v(" 路由跟踪")]),t._v(" "),e("ul",[e("li",[t._v("查询IP地理信息 "),e("a",{attrs:{href:"https://github.com/zu1k/nali",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/zu1k/nali"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/ihmily/ip-info-api",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/ihmily/ip-info-api"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/jason5ng32/MyIP",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/jason5ng32/MyIP"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://ip.guide",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://ip.guide"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/hackclub/how-did-i-get-here",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/hackclub/how-did-i-get-here"),e("OutboundLink")],1),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/hackclub/ktr",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/hackclub/ktr"),e("OutboundLink")],1)])])]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/lionsoul2014/ip2region",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/lionsoul2014/ip2region"),e("OutboundLink")],1),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://gitee.com/lionsoul/ip2region",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitee.com/lionsoul/ip2region"),e("OutboundLink")],1)])])]),t._v(" "),e("li",[e("a",{attrs:{href:"https://ifconfig.me",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://ifconfig.me"),e("OutboundLink")],1),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/pmarques/ifconfig.me",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/pmarques/ifconfig.me"),e("OutboundLink")],1)])])]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/georgyo/ifconfig.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/georgyo/ifconfig.io"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/missdeer/ifconfig",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/missdeer/ifconfig"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/ipinfo",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/ipinfo"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/pronto/ifconfig.pro",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/pronto/ifconfig.pro"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/ngoduykhanh/ifconfig.top",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/ngoduykhanh/ifconfig.top"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/ftao/python-ifcfg",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/ftao/python-ifcfg"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/sanketsudake/ifconfig-parser",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/sanketsudake/ifconfig-parser"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.browserscan.net",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.browserscan.net"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.ipip.net",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.ipip.net"),e("OutboundLink")],1),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.myip.la",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.myip.la"),e("OutboundLink")],1)])])]),t._v(" "),e("li",[e("a",{attrs:{href:"https://cloud.magiclen.org/cn/myip",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cloud.magiclen.org/cn/myip"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://dns.fish",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://dns.fish"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://ipquery.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://ipquery.io"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://ip.aolifu.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://ip.aolifu.org"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://ip.im",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://ip.im"),e("OutboundLink")],1),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://w.is",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://w.is"),e("OutboundLink")],1)])])]),t._v(" "),e("li",[t._v("可用性检查 "),e("a",{attrs:{href:"https://github.com/funilrys/PyFunceble",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/funilrys/PyFunceble"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/hatoo/oha",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/hatoo/oha"),e("OutboundLink")],1)])]),t._v(" "),e("p",[e("strong",[e("code",[t._v("ping")]),t._v("、"),e("code",[t._v("tcptraceroute")]),t._v("、"),e("code",[t._v("traceroute")]),t._v("、"),e("code",[t._v("mtr")])])]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/fujiapple852/trippy",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/fujiapple852/trippy"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.cnblogs.com/xzkzzz/p/7413177.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.cnblogs.com/xzkzzz/p/7413177.html"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.jianshu.com/p/802010d54849",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.jianshu.com/p/802010d54849"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://cloud.tencent.com/developer/article/1332118",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cloud.tencent.com/developer/article/1332118"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"http://winmtr.net/download-winmtr",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://winmtr.net/download-winmtr"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://sourceforge.net/projects/netcat",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://sourceforge.net/projects/netcat"),e("OutboundLink")],1),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.cnblogs.com/dalianpai/p/12505678.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Netcat详解"),e("OutboundLink")],1)])])]),t._v(" "),e("li",[e("a",{attrs:{href:"http://www.dest-unreach.org/socat",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.dest-unreach.org/socat"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vi/websocat",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/vi/websocat"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/pouriyajamshidi/tcping",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/pouriyajamshidi/tcping"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/hanshuaikang/Nping",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/hanshuaikang/Nping"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/nmap/nmap",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/nmap/nmap"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/SkyLined/LocalNetworkScanner",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/SkyLined/LocalNetworkScanner"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/aceberg/WatchYourLAN",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/aceberg/WatchYourLAN"),e("OutboundLink")],1)])]),t._v(" "),e("blockquote",[e("p",[t._v("在Linux中有一个更好的网络连通性判断工具，它可以结合ping | nslookup | tracert 来判断网络的相关特性，这个命令就是mtr。")])]),t._v(" "),e("blockquote",[e("p",[t._v("注意：MTR使用的raw sockets是绕过TCP/IP协议，需要ROOT权限来执行，因此如果以普通用户身份来执行mtr会出错，\n提示“mtr: unable to get raw sockets”")])]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"http://www.vdberg.org/~richard/tcpping.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("tcpping- 禁止了ICMP协议（ping命令）也能用"),e("OutboundLink")],1),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/deajan/tcpping",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/deajan/tcpping"),e("OutboundLink")],1)])])])]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("tcpping")]),t._v("脚本依赖"),e("code",[t._v("tcptraceroute")]),t._v(" 组件，所以必须先安装"),e("code",[t._v("yum install tcptraceroute")])])]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://elifulkerson.com/projects/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://elifulkerson.com/projects/"),e("OutboundLink")],1)])]),t._v(" "),e("blockquote",[e("p",[t._v("注意"),e("code",[t._v("tcpping")]),t._v("与"),e("code",[t._v("tcping")]),t._v(" 是不同的两款工具")])]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://docs.microsoft.com/zh-cn/sysinternals/downloads/psping",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://docs.microsoft.com/zh-cn/sysinternals/downloads/psping"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://code.google.com/archive/p/paping/downloads",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://code.google.com/archive/p/paping/downloads"),e("OutboundLink")],1)])]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("PsPing")]),t._v(" 是微软 "),e("code",[t._v("PSTools")]),t._v(" 工具套件中的其中一个命令。除了 "),e("code",[t._v("ICMP")]),t._v(" ping 测试，主要用来测试 TCP 端口的连通性，\n还可以测试 "),e("code",[t._v("TCP/UDP")]),t._v(" 网络时延和带宽。不过， "),e("code",[t._v("PsPing")]),t._v(" 只能在 Windows 中运行。Linux 可以使用 "),e("code",[t._v("PaPing")]),t._v(" （跨平台的开源工具）。")])]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/antirez/hping",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/antirez/hping"),e("OutboundLink")],1)])]),t._v(" "),e("p",[e("strong",[t._v("常用网站")])]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"http://ipcheck.need.sh",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://ipcheck.need.sh"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://torch.njs.app",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://torch.njs.app"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("瓦工的全球ping工具 "),e("a",{attrs:{href:"http://ping.pe",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://ping.pe"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.yougetsignal.com/tools/open-ports",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.yougetsignal.com/tools/open-ports"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"http://tool.chinaz.com/port",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://tool.chinaz.com/port"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.websitepulse.com/tools/china-firewall-test",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.websitepulse.com/tools/china-firewall-test"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.vps234.com/ipchecker",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.vps234.com/ipchecker"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://tools.ipip.net/traceroute.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://tools.ipip.net/traceroute.php"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("IP范围转换CIDR "),e("a",{attrs:{href:"https://ip2cidr.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://ip2cidr.com"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"http://apps.neu.edu.cn/netaggr",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://apps.neu.edu.cn/netaggr"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.sioe.cn/xinqing/CIDR.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("无类别域间路由（CIDR）网络地址计算器"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://zh.rakko.tools/tools/27",target:"_blank",rel:"noopener noreferrer"}},[t._v("IPv4 / IPv6 CIDR计算器 | RAKKOTOOLS🔧"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"http://ip.chacuo.net/ipconvert",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://ip.chacuo.net/ipconvert"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/3th1nk/cidr",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/3th1nk/cidr"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.oldking.net",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.oldking.net"),e("OutboundLink")],1)])]),t._v(" "),e("p",[e("strong",[t._v("tracert")])]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("Tracert")]),t._v(" 列出分组经过的路由节点，以及它在IP 网络中每一跳的延迟（这里的延迟是指：分组从信息源发送到目的地所需的时间，\n延迟也分为许多的种类——传播延迟、传输延迟、处理延迟、排队延迟等，是大多数网站性能的瓶颈之一）.")])]),t._v(" "),e("div",{staticClass:"language-batch extra-class"},[e("pre",{pre:!0,attrs:{class:"language-batch"}},[e("code",[e("span",{pre:!0,attrs:{class:"token command"}},[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("tracert")]),t._v(" ["),e("span",{pre:!0,attrs:{class:"token parameter attr-name"}},[t._v("-d")]),t._v("] ["),e("span",{pre:!0,attrs:{class:"token parameter attr-name"}},[t._v("-h")]),t._v(" maximum_hops] ["),e("span",{pre:!0,attrs:{class:"token parameter attr-name"}},[t._v("-j")]),t._v(" host-list] ["),e("span",{pre:!0,attrs:{class:"token parameter attr-name"}},[t._v("-w")]),t._v(" timeout] ["),e("span",{pre:!0,attrs:{class:"token parameter attr-name"}},[t._v("-R")]),t._v("] ["),e("span",{pre:!0,attrs:{class:"token parameter attr-name"}},[t._v("-S")]),t._v(" srcaddr] ["),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("-4")]),t._v("] ["),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("-6")]),t._v("] target_name")]),t._v("\n")])])]),e("p",[e("strong",[t._v("选项")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("-d")]),t._v(" 指定不将 IP 地址解析到主机名称。")]),t._v(" "),e("li",[e("code",[t._v("-h maximum_hops")]),t._v(" 指定跃点数以跟踪到称为 target_name 的主机的路由。")]),t._v(" "),e("li",[e("code",[t._v("-j host-list")]),t._v(" 指定 Tracert 实用程序数据包所采用路径中的路由器接口列表。")]),t._v(" "),e("li",[e("code",[t._v("-w timeout")]),t._v(" 等待 timeout 为每次回复所指定的毫秒数。")]),t._v(" "),e("li",[e("code",[t._v("target_name")]),t._v(" 目标主机的名称或 IP 地址。")])]),t._v(" "),e("p",[e("strong",[t._v("示例")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("tracert www.bajins.com\n")])])]),e("h3",{attrs:{id:"检查端口连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#检查端口连接"}},[t._v("#")]),t._v(" 检查端口连接")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("3")]),t._v("<>")]),t._v("/dev/tcp/"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IP地址"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("端口号"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("timeout")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"echo >/dev/tcp/<IP地址>/<端口号>"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sleep "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /dev/tcp/"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IP地址"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("端口号"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\npython "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"import socket; s=socket.socket(); s.settimeout(5); s.connect'),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("((")]),t._v("'"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IP地址"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("'"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("端口号"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")])]),t._v(';"')]),t._v("\npython "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'import socket; s=socket.socket(socket.AF_INET,socket.SOCK_STREAM); s.settimeout(5); s.connect((\"<IP地址>\",<端口号>))'")]),t._v("\ntelnet "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IP地址"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("端口号"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# netcat")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("nc")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-vz")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IP地址"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("端口号"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nnmap "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("端口号"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IP地址"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("协议"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("://"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IP地址"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(":"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("端口号"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v(" telnet://"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IP地址"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(":"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("端口号"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nsocat - TCP:"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IP地址"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(":"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("端口号"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),e("h2",{attrs:{id:"网卡"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#网卡"}},[t._v("#")]),t._v(" 网卡")]),t._v(" "),e("h3",{attrs:{id:"mtu"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mtu"}},[t._v("#")]),t._v(" MTU")]),t._v(" "),e("blockquote",[e("p",[t._v("MTU经过网卡传输的数据包的最大传输单元,传输设备的MTU值不规范造成传输失败的情况")])]),t._v(" "),e("p",[e("strong",[t._v("查看MTU值")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" /sys/class/net/eth0/mtu\n")])])]),e("p",[e("strong",[t._v("临时更改MTU值")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1476"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /sys/class/net/eth0/mtu\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或者")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ifconfig 网口名 mtu 数值")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ifconfig")]),t._v(" eth0 mtu "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1476")]),t._v("\n")])])]),e("p",[e("strong",[t._v("永久更改MTU值")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("vi")]),t._v(" /etc/sysconfig/network-scripts/ifcfg-eth0\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在DEVICE=eth0下面加入")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("MTU")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1476")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启用IPv6地址的，修改IPv6 mtu的参数为")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("IPV6_MTU")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1280"')]),t._v("\n")])])]),e("p",[e("strong",[t._v("重启网络接口")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" network restart\n")])])])])},[],!1,null,null,null);e.default=s.exports}}]);