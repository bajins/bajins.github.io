(window.webpackJsonp=window.webpackJsonp||[]).push([[4,18],{305:function(e,t,s){},319:function(e,t,s){s(11),s(22);const n=s(329);function o(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}e.exports.getPageText=e=>{if(!e._strippedContent)return"";const{html:t}=e._context.markdown.render(e._strippedContent);return n.decode(t.replace(/(<[^>]+>)+/g," ").replace(/^\s*#\s/gm,""))},e.exports.highlightText=(e,t)=>{let s=e;if(highlightWords=t.split(" ").filter(e=>e.length>0),highlightWords.length>0)for(const e of highlightWords)s=s.replace(new RegExp(o(e),"ig"),"<em>$&</em>");else s=e.replace(new RegExp(o(t),"ig"),"<em>$&</em>");return s}},320:function(e,t,s){"use strict";s(305)},328:function(e,t){},340:function(e,t,s){"use strict";s(28),s(11),s(22),s(326),s(29),s(45);var n=s(327),o=s(319),i={data:()=>({query:"",focused:!1,focusIndex:0,placeholder:void 0,indexCN:null,indexEN:null}),mounted(){this.placeholder=this.$site.themeConfig.searchPlaceholder||"",document.addEventListener("keydown",this.onHotkey),this.setupFlexSearch()},beforeDestroy(){document.removeEventListener("keydown",this.onHotkey)},computed:{showSuggestions(){return this.focused&&this.suggestions&&this.suggestions.length},suggestions(){const e=this.query.trim().toLowerCase();if(!e)return;let t;t=/[\x00-\x7F]/g.test(e)?this.indexEN:this.indexCN;let s=t.search(e,{limit:10,suggest:!0,enrich:!0});return s=s.flatMap(e=>e.result.map(e=>({...e.doc,title:this.getSuggestionTitle(e.doc),text:this.getSuggestionText(e.doc)}))),s},alignRight(){return(this.$site.themeConfig.nav||[]).length+(this.$site.repo?1:0)<=2}},methods:{getPageLocalePath(e){for(const t in this.$site.locales||{})if("/"!==t&&0===e.path.indexOf(t))return t;return"/"},isSearchable(e){let t=null;return null===t||(t=Array.isArray(t)?t:new Array(t),t.filter(t=>e.path.match(t)).length>0)},onHotkey(e){e.srcElement===document.body&&"s".includes(e.key)&&(this.$refs.input.focus(),e.preventDefault())},onUp(){this.showSuggestions&&(this.focusIndex>0?this.focusIndex--:this.focusIndex=this.suggestions.length-1)},onDown(){this.showSuggestions&&(this.focusIndex<this.suggestions.length-1?this.focusIndex++:this.focusIndex=0)},go(e){if(!this.showSuggestions)return;const t=this.suggestions[e].path;this.$route.path!==t&&this.$router.push(this.suggestions[e].path),this.query="",this.focusIndex=0},focus(e){this.focusIndex=e},unfocus(){this.focusIndex=-1},setupFlexSearch(){this.indexCN=new n.a.Document({tokenize:e=>e.replace(/[\x00-\x7F]/g,"").split(""),document:{id:"key",index:["title","content","headers[]:title","headers[]:slug"],store:!0}}),this.indexEN=new n.a.Document({tokenize:"forward",document:{id:"key",index:["title","content","headers[]:title","headers[]:slug"],store:!0}});const{pages:e}=this.$site;e.forEach(e=>{this.indexCN.add(e),this.indexEN.add(e)})},getSuggestionTitle(e){const t=e.title?e.title:e.regularPath;return Object(o.highlightText)(t,this.query)},getSuggestionText(e){const t=e.content,s=t.toLowerCase().indexOf(this.query.toLowerCase()),n=this.query.split(" ")[0];let i=-1===s?t.toLowerCase().indexOf(n.toLowerCase()):s,r="";i>15&&(i-=15,r=".. ");const u=e.content.substr(i,60);return r+Object(o.highlightText)(u,this.query)}}},r=(s(320),s(0)),u=Object(r.a)(i,function(){var e=this,t=e._self._c;return t("div",{staticClass:"search-box"},[t("input",{ref:"input",class:{focused:e.focused},attrs:{"aria-label":"Search",placeholder:e.placeholder,autocomplete:"off",spellcheck:"false"},domProps:{value:e.query},on:{input:function(t){e.query=t.target.value},focus:function(t){e.focused=!0},blur:function(t){e.focused=!1},keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.go(e.focusIndex)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.onUp.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.onDown.apply(null,arguments)}]}}),e._v(" "),e.showSuggestions?t("ul",{staticClass:"suggestions",class:{"align-right":e.alignRight},on:{mouseleave:e.unfocus}},e._l(e.suggestions,function(s,n){return t("li",{key:n,staticClass:"suggestion",class:{focused:n===e.focusIndex},on:{mousedown:function(t){return e.go(n)},mouseenter:function(t){return e.focus(n)}}},[t("a",{attrs:{href:s.regularPath},on:{click:function(e){e.preventDefault()}}},[t("span",{staticClass:"suggestion__title",domProps:{innerHTML:e._s(s.title||s.regularPath)}}),e._v(" "),t("span",{staticClass:"suggestion__result",domProps:{innerHTML:e._s(s.text)}})])])}),0):e._e()])},[],!1,null,null,null);t.a=u.exports}}]);