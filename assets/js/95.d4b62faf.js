(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{281:function(t,s,a){"use strict";a.r(s);var e=a(2),r=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"linux命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux命令","aria-hidden":"true"}},[t._v("#")]),t._v(" linux命令")]),t._v(" "),a("h1",{attrs:{id:"目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目录","aria-hidden":"true"}},[t._v("#")]),t._v(" 目录")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E7%B3%BB%E7%BB%9F%E6%93%8D%E4%BD%9C"}},[t._v("系统操作")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1"}},[t._v("定时任务")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E6%96%87%E4%BB%B6%E5%92%8C%E6%96%87%E4%BB%B6%E5%A4%B9%E6%93%8D%E4%BD%9C"}},[t._v("文件和文件夹操作")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B9%8B%E9%97%B4%E4%BC%A0%E8%BE%93%E6%96%87%E4%BB%B6"}},[t._v("服务器之间传输文件")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#scp"}},[t._v("scp")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#rsync"}},[t._v("rsync")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E6%89%BE%E5%A4%A7%E6%96%87%E4%BB%B6"}},[t._v("查找大文件")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E5%88%97%E5%87%BA%E7%9B%AE%E5%BD%95"}},[t._v("列出目录")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95"}},[t._v("创建目录")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6"}},[t._v("创建文件")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E5%8F%8A%E6%96%87%E4%BB%B6%E5%A4%B9"}},[t._v("删除文件及文件夹")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E6%96%87%E4%BB%B6%E5%92%8C%E6%96%87%E4%BB%B6%E5%A4%B9%E6%9D%83%E9%99%90%E6%93%8D%E4%BD%9C"}},[t._v("文件和文件夹权限操作")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E6%96%87%E4%BB%B6%E6%9F%A5%E7%9C%8B"}},[t._v("文件查看")])])])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E9%98%B2%E7%81%AB%E5%A2%99"}},[t._v("防火墙")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E8%A7%A3%E5%86%B3%E7%BD%91%E5%8D%A1%E9%97%AE%E9%A2%98"}},[t._v("解决网卡问题")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C"}},[t._v("后台运行")])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"系统操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统操作","aria-hidden":"true"}},[t._v("#")]),t._v(" 系统操作")]),t._v(" "),a("h3",{attrs:{id:"查看邮箱"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看邮箱","aria-hidden":"true"}},[t._v("#")]),t._v(" 查看邮箱")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" /var/spool/mail/root\n")])])]),a("h3",{attrs:{id:"用以下命令清理内存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用以下命令清理内存","aria-hidden":"true"}},[t._v("#")]),t._v(" 用以下命令清理内存")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取到的内存配置信息若为0的话，则表示开启了缓存机制")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" /proc/sys/vm/drop_caches\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# drop_caches是让系统清理内存页的缓存，从而得到更多的可用内存")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 释放网页缓存(To free pagecache)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sync")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" 1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /proc/sys/vm/drop_caches\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 释放目录项和索引(To free dentries and inodes)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sync")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" 2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /proc/sys/vm/drop_caches\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 释放网页缓存，目录项和索引（To free pagecache, dentries and inodes）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sync")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" 3 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /proc/sys/vm/drop_caches\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 清理/var/cache/yum的headers")]),t._v("\nyum clean headers\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 清理/var/cache/yum下的软件包")]),t._v("\nyum clean packages\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 清理软件源")]),t._v("\nyum clean metadata\n")])])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"定时任务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#定时任务","aria-hidden":"true"}},[t._v("#")]),t._v(" 定时任务")]),t._v(" "),a("h3",{attrs:{id:"crontab命令常用于unix和类unix的操作系统之中，用于设置周期性被执行的指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#crontab命令常用于unix和类unix的操作系统之中，用于设置周期性被执行的指令","aria-hidden":"true"}},[t._v("#")]),t._v(" crontab命令常用于Unix和类Unix的操作系统之中，用于设置周期性被执行的指令")]),t._v(" "),a("h3",{attrs:{id:"通过linux终端（terminal）编辑crontab文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过linux终端（terminal）编辑crontab文件","aria-hidden":"true"}},[t._v("#")]),t._v(" 通过Linux终端（Terminal）编辑crontab文件.")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("crontab")]),t._v(" -e\n")])])]),a("h3",{attrs:{id:"输入定时任务命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#输入定时任务命令","aria-hidden":"true"}},[t._v("#")]),t._v(" 输入定时任务命令.")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 每分钟输出一次当前时间")]),t._v("\n* * * * * "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" /log.log\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 每天凌晨1点30分执行清理内存脚本，并且输出到日志")]),t._v("\n30 1 * * *  /bin/bash /home/rememory.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" /home/rememory.log 2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("1\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 每天凌晨1点30分执行删除MySQL日志文件，并且输出到日志")]),t._v("\n30 1 * * *  python /home/delete_file.py 文件带后缀的路径 保留的文件个数 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" /home/delete_file.log 2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("1\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 每隔3天,1点30分执行，并且输出到日志")]),t._v("\n30 1 */3 * * /bin/bash 文件路径 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" 输出日志文件路径 2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("1\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置每20天清理一次（日志清理太频繁不方便以后按日志排错）")]),t._v("\n0 0 */20 * * /bin/bash /home/cleanLog.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" /home/cleanLog.log 2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("1\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置每小时执行一次")]),t._v("\n0 */1 * * *  python3 /home/dowloadSqlFile.py -host"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'127.0.0.1'")]),t._v(" -port"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("3306 -user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),t._v(" -pwd"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'123456'")]),t._v(" -db"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),t._v(" -table"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'images'")]),t._v(" -start"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("0 -end"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("2000 -mkdir"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/home/c/'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" /home/dowloadSQLFile.log 2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("1\n")])])]),a("blockquote",[a("p",[t._v("在linux中的直接执行shell脚本可以用相对路径找到文件,但是如果通过计划任务crontab执行shell脚本时，却不能通过相对路径找到文件!")]),t._v(" "),a("p",[t._v("可以使用pwd命令获取目录"),a("code",[t._v("pwd")]),t._v("'/文件名'")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"文件和文件夹操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件和文件夹操作","aria-hidden":"true"}},[t._v("#")]),t._v(" 文件和文件夹操作")]),t._v(" "),a("h3",{attrs:{id:"服务器之间传输文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务器之间传输文件","aria-hidden":"true"}},[t._v("#")]),t._v(" 服务器之间传输文件")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 首先进入需要搭建web服务器的目录，然后在输入下面的命令")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意：不填端口号则默认使用8000端口。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# linux")]),t._v("\npython -m SimpleHTTPServer port\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# windows")]),t._v("\npython -m http.server port\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 服务开启后，地址协议类型加IP/目录下的文件： ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" host:port/file 就可以下载了\n")])])]),a("h3",{attrs:{id:"scp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scp","aria-hidden":"true"}},[t._v("#")]),t._v(" scp")]),t._v(" "),a("h4",{attrs:{id:"shell脚本使用前请安装expect包：yum-y-install-expect-expect-devel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shell脚本使用前请安装expect包：yum-y-install-expect-expect-devel","aria-hidden":"true"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"/files/scp.sh"}},[t._v("shell脚本")]),t._v("使用前请安装expect包："),a("code",[t._v("yum -y install expect expect-devel")])]),t._v(" "),a("blockquote",[a("p",[t._v("【优点】简单方便，安全可靠；支持限速参数，不占资源，不会提高多少系统负荷")]),t._v(" "),a("p",[t._v("【缺点】不支持排除目录")]),t._v(" "),a("p",[t._v("【用法】scp就是secure copy，是用来进行远程文件拷贝的。数据传输使用 ssh，并且和ssh 使用相同的认证方式，提供相同的安全保证 。")])]),t._v(" "),a("h4",{attrs:{id:"命令参数："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令参数：","aria-hidden":"true"}},[t._v("#")]),t._v(" 命令参数：")]),t._v(" "),a("blockquote",[a("p",[t._v("-1  强制scp命令使用协议ssh1")]),t._v(" "),a("p",[t._v("-2  强制scp命令使用协议ssh2")]),t._v(" "),a("p",[t._v("-4  强制scp命令只使用IPv4寻址")]),t._v(" "),a("p",[t._v("-6  强制scp命令只使用IPv6寻址")]),t._v(" "),a("p",[t._v("-B  使用批处理模式（传输过程中不询问传输口令或短语）")]),t._v(" "),a("p",[t._v("-C  允许压缩。（将-C标志传递给ssh，从而打开压缩功能）")]),t._v(" "),a("p",[t._v("-p 保留原文件的修改时间，访问时间和访问权限。")]),t._v(" "),a("p",[t._v("-q  不显示传输进度条。")]),t._v(" "),a("p",[t._v("-r  递归复制整个目录。")]),t._v(" "),a("p",[t._v("-v 详细方式显示输出。scp和ssh(1)会显示出整个过程的调试信息。这些信息用于调试连接，验证和配置问题。")]),t._v(" "),a("p",[t._v("-c cipher  以cipher将数据传输进行加密，这个选项将直接传递给ssh。")]),t._v(" "),a("p",[t._v("-F ssh_config  指定一个替代的ssh配置文件，此参数直接传递给ssh。")]),t._v(" "),a("p",[t._v("-i identity_file  从指定文件中读取传输时使用的密钥文件，此参数直接传递给ssh。")]),t._v(" "),a("p",[t._v("-l limit  限定用户所能使用的带宽，以Kbit/s为单位。")]),t._v(" "),a("p",[t._v("-o ssh_option  如果习惯于使用ssh_config(5)中的参数传递方式，")]),t._v(" "),a("p",[t._v("-P port  注意是大写的P, port是指定数据传输用到的端口号")]),t._v(" "),a("p",[t._v("-S program  指定加密传输时所使用的程序。此程序必须能够理解ssh(1)的选项。")])]),t._v(" "),a("blockquote",[a("p",[t._v("scp [参数] <源地址（用户名@IP地址或主机名）>:<文件路径> <目的地址（用户名 @IP 地址或主机名）>:<文件路径>")]),t._v(" "),a("p",[t._v("举例：")]),t._v(" "),a("blockquote",[a("p",[t._v("把本地的source.txt文件拷贝到192.168.0.10机器上的/home/work目录下")])])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scp")]),t._v(" -P -p /home/work/source.txt work@192.168.0.10:/home/work/\n")])])]),a("blockquote",[a("blockquote",[a("p",[t._v("把192.168.0.10机器上的source.txt文件拷贝到本地的/home/work目录下")])])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scp")]),t._v(" -P -p work@192.168.0.10:/home/work/source.txt /home/work/\n")])])]),a("blockquote",[a("blockquote",[a("p",[t._v("把192.168.0.10机器上的source.txt文件拷贝到192.168.0.11机器的/home/work目录下")])])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scp")]),t._v(" -P -p work@192.168.0.10:/home/work/source.txt work@192.168.0.11:/home/work/\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 拷贝文件夹，加-r参数")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scp")]),t._v(" -P -p -r /home/work/sourcedir work@192.168.0.10:/home/work/\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用主机名")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scp")]),t._v(" -P -p -r /home/work/sourcedir work@www.myhost.com:/home/work/\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示详情，加-v参数")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scp")]),t._v(" -P -p -r -v /home/work/sourcedir work@www.myhost.com:/home/work/  \n")])])]),a("blockquote",[a("blockquote",[a("p",[t._v("将本地A主机文件复制到B主机")])])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scp")]),t._v(" -P -p ./files/yum.log 192.168.214.187:/tmp/demo/\n")])])]),a("blockquote",[a("blockquote",[a("p",[t._v("将远程主机复制到本地")])])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scp")]),t._v(" -P -p 192.168.214.187:/tmp/demo/f3.log /tmp/files/\n")])])]),a("h3",{attrs:{id:"rsync"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rsync","aria-hidden":"true"}},[t._v("#")]),t._v(" rsync")]),t._v(" "),a("blockquote",[a("p",[t._v("【优点】功能强大，操作类似scp，支持排除目录，支持限速参数；还支持本地复制。")]),t._v(" "),a("p",[t._v("【缺点】会耗系统资源，占用I/O")]),t._v(" "),a("p",[t._v("【用法】rsync是类unix系统下的数据镜像备份工具，从软件的命名上就可以看出来了——remote sync。它的操作方式和scp和相似，但是比scp强大很多。使用双冒号分割主机名和文件路径时，是使用rsync服务器")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 把本地的source.txt文件拷贝到192.168.0.10机器上的/home/work目录下")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rsync")]),t._v(" /home/work/source.txt work@192.168.0.10:/home/work/\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 把192.168.0.10机器上的source.txt文件拷贝到本地的/home/work目录下")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rsync")]),t._v(" work@192.168.0.10:/home/work/source.txt /home/work/\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 把192.168.0.10机器上的source.txt文件拷贝到192.168.0.11机器的/home/work目录下")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rsync")]),t._v(" work@192.168.0.10:/home/work/source.txt work@192.168.0.11:/home/work/\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 拷贝文件夹，加-r参数")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rsync")]),t._v(" -r /home/work/sourcedir work@192.168.0.10:/home/work/\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用主机名")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rsync")]),t._v(" -r /home/work/sourcedir work@www.myhost.com:/home/work/\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示详情，加-v参数")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rsync")]),t._v(" -r -v /home/work/sourcedir work@www.myhost.com:/home/work/\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 排除子目录，注意：--exclude后面的路径不能为绝对路径，必须为相对路径才可以，否则匹配不上，就不会被排除掉。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rsync")]),t._v(" -r -v --exclude sourcedir/notinclude /home/work/sourcedir work@www.myhost.com:/home/work/\n")])])]),a("h3",{attrs:{id:"查找大文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查找大文件","aria-hidden":"true"}},[t._v("#")]),t._v(" 查找大文件")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查找从根目录下查找大于100M的文件，并显示文件的具体大小再进行排序")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" / -type f -size +100M -print0 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("xargs")]),t._v(" -0 "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("du")]),t._v(" -h "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),t._v(" -nr\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查找从根目录下查找大于1G的文件，并显示文件的具体大小再进行排序")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" / -type f -size +1G -print0 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("xargs")]),t._v(" -0 "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("du")]),t._v(" -h "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),t._v(" -nr\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 有时候排列的顺序并不完全是按大小一致，这个是因为du命令的参数h所致，可以使用MB来显示")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" / -type f -size +100M -print0 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("xargs")]),t._v(" -0 "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("du")]),t._v(" -hm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),t._v(" -nr\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查找从根目录下查找大于100M的文件，并显示文件的属性信息")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" / -type f -size +100M -print0 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("xargs")]),t._v(" -0 "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v(" -l\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看当前文件夹下的文件夹占用大小并排序")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("du")]),t._v(" -h --max-depth"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),t._v(" -n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 有时候排列的顺序并不完全是按大小一致，这个是因为du命令的参数h所致，可以使用MB来显示")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("du")]),t._v(" -hm --max-depth"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),t._v(" -n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 找出当前文件夹下最大的12个文件夹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("du")]),t._v(" -hm --max-depth"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),t._v(" -nr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("head")]),t._v(" -12\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看home文件夹下的所有文件夹占用大小并排序")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("du")]),t._v(" -hm --max-depth"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("2 /home/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),t._v(" -nr\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查找目录")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" / -name "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'path'")]),t._v(" -type d\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查找内容")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("xargs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" -ri "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查找内容只显示文件名称")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("xargs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" -ril "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content'")]),t._v("\n")])])]),a("h3",{attrs:{id:"列出目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#列出目录","aria-hidden":"true"}},[t._v("#")]),t._v(" 列出目录")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v(" -l "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^d"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{print "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$9")]),t._v("}'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v(" -F "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/$"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v(" -d */\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v(" -ad */\n")])])]),a("h3",{attrs:{id:"创建目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建目录","aria-hidden":"true"}},[t._v("#")]),t._v(" 创建目录")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在当前目录下创建名为yunkus.com的目录")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" yunkus.com\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在指定目录下创建名为yunkus.com的目录（使用绝对路径）,比如在 /home/var/ 下创建目录")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" /home/var/yunkus.com\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 同时创建多个目录")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" test1 test2 test3\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在指定目录下创建多个目录（使用绝对路径）,比如在 /home/var/ 下创建目录")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" /home/var/test1 test2 test3\n")])])]),a("h3",{attrs:{id:"创建多级目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建多级目录","aria-hidden":"true"}},[t._v("#")]),t._v(" 创建多级目录")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在当前创建目录及其子目录")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" -p yunkus/test\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在指定目录下创 yunkus目录及其子目录")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" -p /home/var/yunkus/test\n")])])]),a("h3",{attrs:{id:"创建文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建文件","aria-hidden":"true"}},[t._v("#")]),t._v(" 创建文件")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在当前目录创建 test.txt 文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("touch")]),t._v(" test.txt\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建多个文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("touch")]),t._v(" test1.txt test2.txt\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 修改访问时间")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("touch")]),t._v(" -a test.txt\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看访问修改文件的时间")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stat")]),t._v(" test.txt\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更改为自定义格式、自定义时间戳（更改访问时间、修改时间）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("touch")]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'18-May-2017'")]),t._v(" test.txt\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更改修改时间")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("touch")]),t._v(" -m test.txt\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 修改 test1.txt 为 test2.txt 文件的时间戳。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("touch")]),t._v(" -r test1.txt test2.txt\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更改为自定义时间戳")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("touch")]),t._v(" -t 201703031558.28 test.txt\n")])])]),a("h3",{attrs:{id:"删除文件及文件夹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除文件及文件夹","aria-hidden":"true"}},[t._v("#")]),t._v(" 删除文件及文件夹")]),t._v(" "),a("h4",{attrs:{id:"rm-命令可以用于删除文件及文件夹，可以同时一个或者多个文件-文件夹，而对于链接文件，只删除链接，不影响原文件。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rm-命令可以用于删除文件及文件夹，可以同时一个或者多个文件-文件夹，而对于链接文件，只删除链接，不影响原文件。","aria-hidden":"true"}},[t._v("#")]),t._v(" rm 命令可以用于删除文件及文件夹，可以同时一个或者多个文件/文件夹，而对于链接文件，只删除链接，不影响原文件。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" test.txt\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除目录（不带 -r 可能会无法删除目录），通常会提示")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# rm: cannot remove ‘test’: Is a directory")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -r "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果是同时删除目录和文件时（文件可以正常删除，但目录无法删除，仍然提示rm: cannot remove ‘test’: Is a directory）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),t._v(" test.txt\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除当前目录下的所有文件,这个命令行得谨慎使用，有可能一个不留神，把一些不该删除的东西删除了，所以后面跟的路径得注意下")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf *\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除多个文件夹{}内的为自定义")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf 2017"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("01,02,03,04,05,06,07,08,09,10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("*\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# linux按指定时间删除文件和文件夹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" 文件路径 -name "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"文件名"')]),t._v(" -mtime +多少天之前 -print -exec "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \\"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# linux按指定时间删除文件 -type f 指出找系统普通文件，不包含目录文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" 文件路径 -mtime +多少天之前 -type f -name 文件名 -print -exec "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \\"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 也可以使用 xargs 代替 -exec")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" 文件路径 -type f -mtime +多少天之前 -print "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("xargs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -f\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除指定时间内的文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" 文件路径 -type f -newermt "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'起始时间'")]),t._v(" -a -not -newermt "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'结束时间'")]),t._v(" -name "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'文件名'")]),t._v(" -print -exec "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \\"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("blockquote",[a("p",[a("code",[t._v("-amin n")]),t._v("查找系统中最后N分钟访问的文件")]),t._v(" "),a("p",[a("code",[t._v("-atime n")]),t._v("查找系统中最后n*24小时访问的文件")]),t._v(" "),a("p",[a("code",[t._v("-cmin n")]),t._v("查找系统中最后N分钟被改变文件状态的文件")]),t._v(" "),a("p",[a("code",[t._v("-ctime n")]),t._v("查找系统中最后n*24小时被改变文件状态的文件")]),t._v(" "),a("p",[a("code",[t._v("-mmin n")]),t._v("查找系统中最后N分钟被改变文件数据的文件")]),t._v(" "),a("p",[a("code",[t._v("-mtime n")]),t._v("查找系统中最后n*24小时被改变文件数据的文件")]),t._v(" "),a("p",[t._v("xargs：读取 stdin, 把格式化的数据传递给命令(用于不支持 “|” 管道来传递参数的命令)")])]),t._v(" "),a("h3",{attrs:{id:"移动和重命名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#移动和重命名","aria-hidden":"true"}},[t._v("#")]),t._v(" 移动和重命名")]),t._v(" "),a("blockquote",[a("p",[t._v("mv命令对文件的更改可以有重命名，移动等操作，下面是几个简单的例子。")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将目录 test1 重命名为 test2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mv")]),t._v(" test1 test2\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将/test1目录移动到 /home/ 下，并重命名为test2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mv")]),t._v(" /test1 /home/test2\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 修改文件/目录名（两种方法 touch 或者 rename）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("touch")]),t._v(" test1 test2\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rename")]),t._v(" test1 test2 test1\n")])])]),a("h3",{attrs:{id:"文件查找"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件查找","aria-hidden":"true"}},[t._v("#")]),t._v(" 文件查找")]),t._v(" "),a("blockquote",[a("p",[t._v("命令主要有 find 和 grep。find 用于查找文件，grep 用于查找文件内容的行")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看某个文件，注意权限问题")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" -name "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看录前目录下文件名中含有字符串 yun 的文件，*为通配符，可以按需要使用")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" -name "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*yun*'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在当前目录下查看所有目录并排序")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" -type d "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  在指定文件中（一个或多个）查找并出含字符串为 test 的行")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),t._v(" text1.txt text2.txt\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在以t开头的文件中查找并出含字符串为 test 的行")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),t._v(" t*\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  查找指定时间内的文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" 文件路径 -type f -newermt "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'起始时间'")]),t._v(" -a -not -newermt "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'结束时间'")]),t._v("\n")])])]),a("h3",{attrs:{id:"文件和文件夹权限操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件和文件夹权限操作","aria-hidden":"true"}},[t._v("#")]),t._v(" 文件和文件夹权限操作")]),t._v(" "),a("h3",{attrs:{id:"文件查看"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件查看","aria-hidden":"true"}},[t._v("#")]),t._v(" 文件查看")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看所有文件（包括隐藏文件）并以最大容量单位显示")]),t._v("\nll -a -h 文件名\n")])])]),a("h3",{attrs:{id:"显示当前文件夹大小"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#显示当前文件夹大小","aria-hidden":"true"}},[t._v("#")]),t._v(" 显示当前文件夹大小")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("du")]),t._v(" -sh\n")])])]),a("h3",{attrs:{id:"查看当前路径"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看当前路径","aria-hidden":"true"}},[t._v("#")]),t._v(" 查看当前路径")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pwd")]),t._v("\n")])])]),a("h3",{attrs:{id:"一次性更改权限就使用-r-文件修改为所有用户可读可写可执行，也就是对应编号为777"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一次性更改权限就使用-r-文件修改为所有用户可读可写可执行，也就是对应编号为777","aria-hidden":"true"}},[t._v("#")]),t._v(" 一次性更改权限就使用-R,文件修改为所有用户可读可写可执行，也就是对应编号为777")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" -R 777 文件名\n")])])]),a("h3",{attrs:{id:"使用命令chown改变目录或文件的所有权-更改所有者和所属组chown-change-owner缩写）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用命令chown改变目录或文件的所有权-更改所有者和所属组chown-change-owner缩写）","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用命令chown改变目录或文件的所有权,更改所有者和所属组chown(change owner缩写）")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("chown:用户名 文件名\n")])])]),a("h3",{attrs:{id:"简化操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简化操作","aria-hidden":"true"}},[t._v("#")]),t._v(" 简化操作")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进行当前用户的主目录")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" ~\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进入上次目录")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" -\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进入上一级目录")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进入当前目录")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(".")]),t._v("\n")])])]),a("h3",{attrs:{id:"压缩"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#压缩","aria-hidden":"true"}},[t._v("#")]),t._v(" 压缩")]),t._v(" "),a("h4",{attrs:{id:"tar"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tar","aria-hidden":"true"}},[t._v("#")]),t._v(" tar")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 打包的时候我们要排除 tomcat/logs 目录，命令如下：")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" -zcvf tomcat.tar.gz --exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tomcat/logs tomcat\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果要排除多个目录，增加 --exclude 即可，如下命令排除logs和libs两个目录及文件xiaoshan.txt")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" -zcvf tomcat.tar.gz --exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tomcat/logs --exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tomcat/libs --exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tomcat/xiaoshan.txt tomcat\n")])])]),a("blockquote",[a("p",[t._v("注意：")]),t._v(" "),a("blockquote",[a("p",[t._v("在使用tar的--exclude命令排除打包时，末尾不能加“/”或者路径为绝对路径，否则还是会把排除目录以及其下的文件打包进去。")])])]),t._v(" "),a("h4",{attrs:{id:"_7zip"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7zip","aria-hidden":"true"}},[t._v("#")]),t._v(" 7zip")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装7zip")]),t._v("\nyum –y "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" p7zip\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 解压到当前目录下,不保留原来的目录结构")]),t._v("\n7za e 文件名\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 解压到当前目录下,但保留原来的目录结构")]),t._v("\n7za x 文件名\n")])])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"systemctl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#systemctl","aria-hidden":"true"}},[t._v("#")]),t._v(" systemctl")]),t._v(" "),a("blockquote",[a("p",[t._v("systemctl是CentOS7的服务管理工具中主要的工具，它融合之前service和chkconfig的功能于一体。")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动一个服务")]),t._v("\nsystemctl start firewalld.service\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 关闭一个服务")]),t._v("\nsystemctl stop firewalld.service\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 重启一个服务")]),t._v("\nsystemctl restart firewalld.service\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示一个服务的状态")]),t._v("\nsystemctl status firewalld.service\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在开机时启用一个服务")]),t._v("\nsystemctl "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("enable")]),t._v(" firewalld.service\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在开机时禁用一个服务")]),t._v("\nsystemctl disable firewalld.service\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看服务是否开机启动")]),t._v("\nsystemctl is-enabled firewalld.service\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看已启动的服务列表")]),t._v("\nsystemctl list-unit-files"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" enabled\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看启动失败的服务列表")]),t._v("\nsystemctl --failed\n")])])]),a("h2",{attrs:{id:"防火墙"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#防火墙","aria-hidden":"true"}},[t._v("#")]),t._v(" 防火墙")]),t._v(" "),a("h3",{attrs:{id:"firewalld"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#firewalld","aria-hidden":"true"}},[t._v("#")]),t._v(" firewalld")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看firewalld状态，发现当前是dead状态，即防火墙未开启。")]),t._v("\nsystemctl status firewalld\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开启防火墙，没有任何提示即开启成功。")]),t._v("\nsystemctl start firewalld\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看已开放的端口(默认不开放任何端口)")]),t._v("\nfirewall-cmd --list-ports\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 重启防火墙")]),t._v("\nfirewall-cmd --reload\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 停止防火墙")]),t._v("\nsystemctl stop firewalld.service\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 禁止防火墙开机启动")]),t._v("\nsystemctl disable firewalld.service\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除端口")]),t._v("\nfirewall-cmd --zone"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" public --remove-port"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("80/tcp --permanent\n")])])]),a("h4",{attrs:{id:"开启端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开启端口","aria-hidden":"true"}},[t._v("#")]),t._v(" 开启端口")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开启80端口")]),t._v("\nfirewall-cmd --zone"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("public --add-port"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("80/tcp --permanent\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开启8080-8089的IP端")]),t._v("\nfirewall-cmd --zone"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("public --add-port"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("8080-8089/tcp --permanent\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开启3306端口")]),t._v("\nfirewall-cmd --zone"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("public --add-port"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("3306/tcp --permanent\n")])])]),a("h5",{attrs:{id:"命令含义："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令含义：","aria-hidden":"true"}},[t._v("#")]),t._v(" 命令含义：")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("--zone")]),t._v(" 作用域")]),t._v(" "),a("p",[a("code",[t._v("--add-port=80/tcp")]),t._v(" 添加端口，格式为：端口/通讯协议")]),t._v(" "),a("p",[a("code",[t._v("--permanent")]),t._v(" 永久生效，没有此参数重启后失效")])]),t._v(" "),a("h4",{attrs:{id:"配置firewalld-cmd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置firewalld-cmd","aria-hidden":"true"}},[t._v("#")]),t._v(" 配置firewalld-cmd")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看版本")]),t._v("\nfirewall-cmd --version\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看帮助")]),t._v("\nfirewall-cmd --help\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示状态")]),t._v("\nfirewall-cmd --state\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看所有打开的端口")]),t._v("\nfirewall-cmd --zone"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("public --list-ports\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更新防火墙规则")]),t._v("\nfirewall-cmd --reload\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看区域信息")]),t._v("\nfirewall-cmd --get-active-zones\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看指定接口所属区域")]),t._v("\nfirewall-cmd --get-zone-of-interface"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("eth0\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 拒绝所有包")]),t._v("\nfirewall-cmd --panic-on\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 取消拒绝状态")]),t._v("\nfirewall-cmd --panic-off\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看是否拒绝")]),t._v("\nfirewall-cmd --query-panic\n")])])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"rpm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpm","aria-hidden":"true"}},[t._v("#")]),t._v(" rpm")]),t._v(" "),a("h3",{attrs:{id:"查询已安装软件包的信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询已安装软件包的信息","aria-hidden":"true"}},[t._v("#")]),t._v(" 查询已安装软件包的信息:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" -qi 软件名\n")])])]),a("h3",{attrs:{id:"查询已安装软件包都安装到何处"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询已安装软件包都安装到何处","aria-hidden":"true"}},[t._v("#")]),t._v(" 查询已安装软件包都安装到何处:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" -ql 软件名\n")])])]),a("h3",{attrs:{id:"查看已安装软件所依赖的软件包及文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看已安装软件所依赖的软件包及文件","aria-hidden":"true"}},[t._v("#")]),t._v(" 查看已安装软件所依赖的软件包及文件:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" -qR 软件名\n")])])]),a("h3",{attrs:{id:"查看已安装软件的配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看已安装软件的配置文件","aria-hidden":"true"}},[t._v("#")]),t._v(" 查看已安装软件的配置文件:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" -qc 软件名\n")])])]),a("h3",{attrs:{id:"查询已经安装的文件属于哪个软件包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询已经安装的文件属于哪个软件包","aria-hidden":"true"}},[t._v("#")]),t._v(" 查询已经安装的文件属于哪个软件包:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" -qf 文件名的绝对路径\n")])])]),a("h3",{attrs:{id:"共安装了多少个软件包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#共安装了多少个软件包","aria-hidden":"true"}},[t._v("#")]),t._v(" 共安装了多少个软件包:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" -qa "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wc")]),t._v(" -l \n")])])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"解决网卡问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决网卡问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 解决网卡问题")]),t._v(" "),a("h3",{attrs:{id:"mtu"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mtu","aria-hidden":"true"}},[t._v("#")]),t._v(" MTU")]),t._v(" "),a("h4",{attrs:{id:"mtu经过网卡传输的数据包的最大传输单元-传输设备的mtu值不规范造成传输失败的情况"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mtu经过网卡传输的数据包的最大传输单元-传输设备的mtu值不规范造成传输失败的情况","aria-hidden":"true"}},[t._v("#")]),t._v(" MTU经过网卡传输的数据包的最大传输单元,传输设备的MTU值不规范造成传输失败的情况")]),t._v(" "),a("h3",{attrs:{id:"查看mtu值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看mtu值","aria-hidden":"true"}},[t._v("#")]),t._v(" 查看MTU值")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" /sys/class/net/eth0/mtu\n")])])]),a("h3",{attrs:{id:"更改mtu值（临时）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更改mtu值（临时）","aria-hidden":"true"}},[t._v("#")]),t._v(" 更改MTU值（临时）")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1476"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /sys/class/net/eth0/mtu\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或者")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ifconfig 网口名 mtu 数值")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ifconfig")]),t._v(" eth0 mtu 1476\n")])])]),a("h3",{attrs:{id:"更改mtu值（永久）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更改mtu值（永久）","aria-hidden":"true"}},[t._v("#")]),t._v(" 更改MTU值（永久）")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("vi")]),t._v(" /etc/sysconfig/network-scripts/ifcfg-eth0\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在DEVICE=eth0下面加入")]),t._v("\nMTU"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("1476\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启用IPv6地址的，修改IPv6 mtu的参数为")]),t._v("\nIPV6_MTU"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1280"')]),t._v("\n")])])]),a("h3",{attrs:{id:"重启网络接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#重启网络接口","aria-hidden":"true"}},[t._v("#")]),t._v(" 重启网络接口")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" network restart\n")])])]),a("h2",{attrs:{id:"后台运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#后台运行","aria-hidden":"true"}},[t._v("#")]),t._v(" 后台运行")]),t._v(" "),a("h3",{attrs:{id:"nohup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nohup","aria-hidden":"true"}},[t._v("#")]),t._v(" nohup")]),t._v(" "),a("h4",{attrs:{id:"只输出错误信息到日志文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#只输出错误信息到日志文件","aria-hidden":"true"}},[t._v("#")]),t._v(" 只输出错误信息到日志文件")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" python3 ./index.py "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/dev/null 2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("index.log "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])])]),a("h4",{attrs:{id:"不输出日志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#不输出日志","aria-hidden":"true"}},[t._v("#")]),t._v(" 不输出日志")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" python3 ./index.py "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/dev/null 2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])])]),a("blockquote",[a("h3",{attrs:{id:"linux的3种重定向"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux的3种重定向","aria-hidden":"true"}},[t._v("#")]),t._v(" Linux的3种重定向")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("0")]),t._v("表示标准输入")]),t._v(" "),a("p",[a("code",[t._v("1")]),t._v("标准输出,在一般使用时，默认的是标准输出")]),t._v(" "),a("p",[a("code",[t._v("2")]),t._v("标准错误信息输出")]),t._v(" "),a("blockquote",[a("p",[t._v("可以用来指定需要重定向的标准输入或输出。")]),t._v(" "),a("p",[t._v("将某个程序的错误信息输出到log文件中：./index 2>index.log。\n这样标准输出还是在屏幕上，但是错误信息会输出到log文件中。")]),t._v(" "),a("p",[t._v("另外，也可以实现0，1，2之间的重定向。"),a("code",[t._v("2>&1")]),t._v("：将错误信息重定向到标准输出。")])])]),t._v(" "),a("h3",{attrs:{id:"关于-dev-null文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关于-dev-null文件","aria-hidden":"true"}},[t._v("#")]),t._v(" 关于/dev/null文件")]),t._v(" "),a("blockquote",[a("p",[t._v("Linux下还有一个特殊的文件/dev/null，它就像一个无底洞，所有重定向到它的信息都会消失得无影无踪。\n这一点非常有用，当我们不需要回显程序的所有信息时，就可以将输出重定向到/dev/null。")])])]),t._v(" "),a("h3",{attrs:{id:"setsid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setsid","aria-hidden":"true"}},[t._v("#")]),t._v(" setsid")]),t._v(" "),a("blockquote",[a("p",[t._v('setsid 就是 "set session id" 的意思。表示该命令运行的进程是一个新的 session。因此其父进程不属于当前终端。\n实际上 setsid 运行的进程，其父进程 id (ppid) 为 1 (init 进程的 id)。')])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("setsid python3 ./index.py "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/dev/null 2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])])]),a("h4",{attrs:{id:"语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语法","aria-hidden":"true"}},[t._v("#")]),t._v(" 语法")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("setsid(选项)(参数)")])]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("-c")]),t._v(", --ctty   将控制终端设置为当前控制终端")]),t._v(" "),a("p",[a("code",[t._v("-f")]),t._v(", --fork   总是 fork")]),t._v(" "),a("p",[a("code",[t._v("-w")]),t._v(", --wait   等待程序退出，并使用相同的返回")])])]),t._v(" "),a("h3",{attrs:{id:"screen"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#screen","aria-hidden":"true"}},[t._v("#")]),t._v(" screen")]),t._v(" "),a("blockquote",[a("p",[t._v("Screen 是一款由 GNU 计划开发的用于命令行终端切换的自由软件。\n用户可以通过该软件同时连接多个本地或远程的命令行会话，并在其间自由切换。\nGNU Screen 可以看作是窗口管理器的命令行界面版本。它提供了统一的管理多个会话的界面和相应的功能。")])]),t._v(" "),a("h4",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("screen")]),t._v("\n")])])]),a("h4",{attrs:{id:"创建一个screen会话"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建一个screen会话","aria-hidden":"true"}},[t._v("#")]),t._v(" 创建一个screen会话")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("screen")]),t._v(" -S 会话名称\n")])])]),a("h4",{attrs:{id:"隐藏并保留当前会话窗口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#隐藏并保留当前会话窗口","aria-hidden":"true"}},[t._v("#")]),t._v(" 隐藏并保留当前会话窗口")]),t._v(" "),a("blockquote",[a("h4",{attrs:{id:"按ctrl-a，再按d键"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#按ctrl-a，再按d键","aria-hidden":"true"}},[t._v("#")]),t._v(" "),a("strong",[t._v("按"),a("code",[t._v("Ctrl+A")]),t._v("，再按"),a("code",[t._v("D")]),t._v("键")])])]),t._v(" "),a("h4",{attrs:{id:"列出所有的会话列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#列出所有的会话列表","aria-hidden":"true"}},[t._v("#")]),t._v(" 列出所有的会话列表")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("screen")]),t._v(" -ls\n")])])]),a("h4",{attrs:{id:"恢复会话窗口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#恢复会话窗口","aria-hidden":"true"}},[t._v("#")]),t._v(" 恢复会话窗口")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("screen")]),t._v(" -r 会话名称\n")])])]),a("h4",{attrs:{id:"关闭会话窗口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关闭会话窗口","aria-hidden":"true"}},[t._v("#")]),t._v(" 关闭会话窗口")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exit")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("语法")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("-A")]),t._v(" 　将所有的视窗都调整为目前终端机的大小。")]),t._v(" "),a("p",[a("code",[t._v("-d")]),t._v(" <作业名称> 　将指定的screen作业离线。")]),t._v(" "),a("p",[a("code",[t._v("-h")]),t._v(" <行数> 　指定视窗的缓冲区行数。")]),t._v(" "),a("p",[a("code",[t._v("-m")]),t._v(" 　即使目前已在作业中的screen作业，仍强制建立新的screen作业。")]),t._v(" "),a("p",[a("code",[t._v("-r")]),t._v(" <作业名称> 　恢复离线的screen作业。")]),t._v(" "),a("p",[a("code",[t._v("-R")]),t._v(" 　先试图恢复离线的作业。若找不到离线的作业，即建立新的screen作业。")]),t._v(" "),a("p",[a("code",[t._v("-s")]),t._v(" 　指定建立新视窗时，所要执行的shell。")]),t._v(" "),a("p",[a("code",[t._v("-S")]),t._v(" <作业名称> 　指定screen作业的名称。")]),t._v(" "),a("p",[a("code",[t._v("-v")]),t._v(" 　显示版本信息。")]),t._v(" "),a("p",[a("code",[t._v("-x")]),t._v(" 　恢复之前离线的screen作业。")]),t._v(" "),a("p",[a("code",[t._v("-ls")]),t._v("或"),a("code",[t._v("--list")]),t._v(" 　显示目前所有的screen作业。")]),t._v(" "),a("p",[a("code",[t._v("-wipe")]),t._v(" 　检查目前所有的screen作业，并删除已经无法使用的screen作业。")])])])])},[],!1,null,null,null);s.default=r.exports}}]);