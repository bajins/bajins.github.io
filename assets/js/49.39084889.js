(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{398:function(t,s,e){"use strict";e.r(s);var a=e(0),r=Object(a.a)({},function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"subversion"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#subversion"}},[t._v("#")]),t._v(" Subversion")]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#flag"}},[t._v("Flag")])]),s("li",[s("a",{attrs:{href:"#linux安装"}},[t._v("Linux安装")])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"flag"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#flag"}},[t._v("#")]),t._v(" Flag")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/topics/subversion",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/topics/subversion"),s("OutboundLink")],1)])]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/apache/subversion",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/apache/subversion"),s("OutboundLink")],1),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://subversion.apache.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://subversion.apache.org"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("windows服务端 "),s("a",{attrs:{href:"https://www.visualsvn.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.visualsvn.com"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://sourceforge.net/projects/tortoisesvn",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://sourceforge.net/projects/tortoisesvn"),s("OutboundLink")],1),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/TortoiseGit/tortoisesvn",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/TortoiseGit/tortoisesvn"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://svn.code.sf.net/p/tortoisesvn/code",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://svn.code.sf.net/p/tortoisesvn/code"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/stefankueng/TortoiseSVN",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/stefankueng/TortoiseSVN"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://tortoisesvn.net/downloads.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://tortoisesvn.net/downloads.html"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("安装时一定要选择"),s("code",[t._v("command line cient tools")]),t._v("下的"),s("code",[t._v("Entire feature will be installed on local hard drive")]),t._v("把svn.exe等文件安装")]),t._v(" "),s("li",[t._v("从SVN1.14.3开始自签的CA不再支持，只支持TLS1.1，如果需要支持只能安装TortoiseSVN1.14.5及以下版本")])])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.collab.net/downloads/subversion",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.collab.net/downloads/subversion"),s("OutboundLink")],1),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"http://sharpsvn.open.collab.net",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://sharpsvn.open.collab.net"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://community.cirata.com/s/article/Downloading-WANdisco-Software",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://community.cirata.com/s/article/Downloading-WANdisco-Software"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://opensource.wandisco.com/subversion",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://opensource.wandisco.com/subversion"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.wandisco.com/source-code-management/subversion",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.wandisco.com/source-code-management/subversion"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://docs.wandisco.com/svn/ms-plus",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://docs.wandisco.com/svn/ms-plus"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://blog.csdn.net/weixin_52588152/article/details/111659773",target:"_blank",rel:"noopener noreferrer"}},[t._v("如何在windows系统下搭建SVN服务器"),s("OutboundLink")],1)])])]),t._v(" "),s("li",[t._v("命令行 "),s("a",{attrs:{href:"https://sliksvn.com/pub",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://sliksvn.com/pub"),s("OutboundLink")],1),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://sliksvn.com/download",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://sliksvn.com/download"),s("OutboundLink")],1)])])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/jenkinsci/subversion-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/jenkinsci/subversion-plugin"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://bitnami.com/stack/subversion",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://bitnami.com/stack/subversion"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.smartsvn.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.smartsvn.com"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://rapidsvn.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://rapidsvn.org"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/mhagger/cvs2svn",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/mhagger/cvs2svn"),s("OutboundLink")],1)])]),t._v(" "),s("blockquote",[s("p",[t._v("按装"),s("code",[t._v("VisualSVN")]),t._v("后客户端使用报错："),s("code",[t._v("执行上下文错误: 由于目标计算机积极拒绝，无法连接。")]),t._v("，需要在"),s("code",[t._v("服务")]),t._v("列表中找到相关服务 ->\n右键打开属性 -> 点击登录页签修改"),s("code",[t._v("登录身份")]),t._v("为"),s("code",[t._v("本地系统账户")]),t._v(" -> 点击常规页签修改"),s("code",[t._v("启动类型")]),t._v("为"),s("code",[t._v("自启动")]),t._v("，再点击启动")])]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://sourceforge.net/projects/svnbook",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://sourceforge.net/projects/svnbook"),s("OutboundLink")],1),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://svnbook.red-bean.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://svnbook.red-bean.com"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://svnbook.subversion.org.cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://svnbook.subversion.org.cn"),s("OutboundLink")],1)])])]),t._v(" "),s("li",[t._v("SVN教程 "),s("a",{attrs:{href:"https://svnbucket.com/posts",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://svnbucket.com/posts"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://blog.csdn.net/justry_deng/article/details/82259470",target:"_blank",rel:"noopener noreferrer"}},[t._v("TortoiseSVN打分支、合并分支、切换分支"),s("OutboundLink")],1)])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# SVN不同分支，进行比对")]),t._v("\nsvn "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("diff")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-r")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1100")]),t._v(":1323\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取所有SVN提交作者用户名的列表")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# https://stackoverflow.com/questions/2494984/how-to-get-a-list-of-all-subversion-commit-author-usernames")]),t._v("\nsvn log "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--quiet")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/^r/ {print $3}'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uniq")]),t._v("\nsvn log "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--quiet")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^r"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{print $3}'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uniq")]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("选中要比对的一个分支，"),s("kbd",[t._v("Shift")]),t._v("+右键+选中"),s("code",[t._v("TorsoiseSVN")]),t._v(" -> "),s("code",[t._v("diff with url")]),t._v("，然后填入另外一个要比对的分支url即可")])]),t._v(" "),s("h2",{attrs:{id:"linux安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux安装"}},[t._v("#")]),t._v(" Linux安装")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 检查已安装")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-qa")]),t._v(" subversion\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装")]),t._v("\nyum "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" subversion\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看已安装版本")]),t._v("\nsvnserve "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--version")]),t._v("\n")])])]),s("p",[s("strong",[t._v("创建代码库")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 建立SVN版本库目录")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" /home/svn/svnrepos/test\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建SVN版本库")]),t._v("\nsvnadmin create /home/svn/svnrepos/test\n")])])]),s("blockquote",[s("p",[t._v("执行上面的命令后，自动建立"),s("code",[t._v("svndata")]),t._v("库，\n"),s("code",[t._v("/home/svn/svnrepos/test")]),t._v("文件夹包含了"),s("code",[t._v("conf")]),t._v("、"),s("code",[t._v("db")]),t._v("、"),s("code",[t._v("format")]),t._v("、"),s("code",[t._v("hooks")]),t._v("、"),s("code",[t._v("locks")]),t._v("、"),s("code",[t._v("README.txt")]),t._v("等文件，说明一个SVN库已经建立。")])]),t._v(" "),s("p",[s("strong",[t._v("配置代码库")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进入`conf`文件夹")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /home/svn/svnrepos/test/conf\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置用户密码`passwd`")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vi")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("passwd")]),t._v("\n")])])]),s("ul",[s("li",[t._v("在"),s("code",[t._v("[users]")]),t._v("节点下添加以下内容(账户=密码)")])]),t._v(" "),s("div",{staticClass:"language-conf extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# 账户=密码\nbajins.com=bajins.com\n")])])]),s("ul",[s("li",[t._v("配置权限控制"),s("code",[t._v("authz")])])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vi")]),t._v(" authz\n")])])]),s("blockquote",[s("p",[t._v("目的是设置哪些用户可以访问哪些目录，向"),s("code",[t._v("authz")]),t._v("文件末尾追加以下内容：")]),t._v(" "),s("blockquote",[s("p",[t._v("设置"),s("code",[t._v("[/]")]),t._v("代表根目录下所有的资源,"),s("code",[t._v("rw")]),t._v("为读和写，"),s("code",[t._v("*")]),t._v("代表所有用户,先按"),s("code",[t._v("shift+g")]),t._v("跳到末尾，然后添加")])])]),t._v(" "),s("div",{staticClass:"language-conf extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[/]\nbajins.com=rw\n*=r\n")])])]),s("ul",[s("li",[t._v("配置服务"),s("code",[t._v("svnserve.conf")])])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vi")]),t._v(" svnserve.conf\n")])])]),s("blockquote",[s("p",[t._v("在"),s("code",[t._v("[general]")]),t._v("节点下追加以下内容")])]),t._v(" "),s("div",{staticClass:"language-conf extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# 匿名访问的权限，可以是read,write,none,默认为read\nanon-access=none\n# 使授权用户有写权限\nauth-access=write\n# 密码数据库的路径\npassword-db=passwd\n# 访问控制文件\nauthz-db=authz\n# 认证命名空间，subversion会在认证提示里显示，并且作为凭证缓存的关键字\nrealm = This Is A Repository\n")])])]),s("blockquote",[s("p",[t._v("如果需要创建多个库就需要重复做上面2、3步，并且最后一个目录名是不一样的")])]),t._v(" "),s("ul",[s("li",[t._v("建立第2个SVN版本库目录")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" /home/svn/svnrepos/test2\n")])])]),s("ul",[s("li",[t._v("创建第2个SVN版本库")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("svnadmin create /home/svn/svnrepos/test2\n")])])]),s("p",[s("strong",[t._v("启动")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("svnserve "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-r")]),t._v(" /home/svn/svnrepos/\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看SVN进程")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" -ef"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" svn\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 检测SVN端口")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" -antlp"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" svnserve\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 放开端口")]),t._v("\nfirewall-cmd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--zone")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("public --add-port"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3690")]),t._v("/tcp "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--permanent")]),t._v("\nfirewall-cmd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--reload")]),t._v("\n")])])]),s("p",[s("strong",[t._v("连接地址："),s("code",[t._v("svn://host:port/仓库名")])])]),t._v(" "),s("p",[s("strong",[t._v("停止SVN")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查找svnserve进程（PID）")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-aux")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" svnserve\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 结束进程")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-9")]),t._v(" PID\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#或者")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("killall")]),t._v(" svnserve\n")])])])])},[],!1,null,null,null);s.default=r.exports}}]);